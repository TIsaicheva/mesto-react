{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","style","backgroundImage","logo","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwner","card","owner","_id","isLiked","likes","some","i","deleteButtonClassName","likeIconClassName","onClick","onCardDelete","src","link","alt","name","onCardClick","type","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","year","Date","getFullYear","PopupWithForm","isOpen","aria-label","onClose","title","noValidate","onSubmit","children","buttonName","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","urlRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","placeNameRef","placeUrlRef","ImagePopup","api","config","this","_url","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_handleResponse","data","body","JSON","stringify","cardId","disLikeCard","likeCard","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","all","getUserInfo","getInitialCards","responses","userInfo","initialCards","catch","err","console","log","Provider","changeLikeCardStatus","newCard","newCards","c","card_id","deleteCard","filter","editUserInfo","newUserInfo","userAvatar","changeAvatar","cardInfo","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","querySelector"],"mappings":"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","file":"static/js/main.6b8e71ca.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n    return(\r\n        <header className=\"header\">\r\n            <div className=\"logo\" style={{ backgroundImage: `url(${logo}) no-repeat` }} ></div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    /* определить, принадлежит ли карточка текущему пользователю */\r\n    const isOwner = props.card.owner._id === currentUser._id;\r\n    /* определить, поставил текущий пользователь лайк данной карточке */\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    /* определить класс для кнопки удаления */\r\n    const deleteButtonClassName = (`item__delete ${isOwner ? '' : 'item__delete_none'}`);\r\n    /* определить класс для кнопки лайка */\r\n    const likeIconClassName = (`item__like-icon ${isLiked ? 'item__like-icon_active' : ''}`);\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card._id);\r\n    }\r\n\r\n    return (\r\n        <li className=\"item\">\r\n            <button\r\n                className={deleteButtonClassName}\r\n                onClick={handleDeleteClick}>\r\n            </button>\r\n            <img src={props.card.link}\r\n                alt={props.card.name}\r\n                className=\"item__image\"\r\n                onClick={handleClick}\r\n            />\r\n            <div className=\"item__wrapper\">\r\n                <p className=\"item__text\">{props.card.name}</p>\r\n                <div className=\"item__likes\">\r\n                    <button\r\n                        className={likeIconClassName}\r\n                        type=\"button\"\r\n                        onClick={handleLikeClick}>\r\n                    </button>\r\n                    <p className=\"item__like-counter\">{props.card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {    \r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    return (\r\n        <>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__data\">\r\n                    <div className=\"profile__avatar\"\r\n                        onClick={props.onEditAvatar}\r\n                        style={{ backgroundImage: `url(${currentUser.avatar})` }}\r\n                    ></div>\r\n                    <div className=\"profile__info\">\r\n                        <h1 className=\"profile__info-title\">{currentUser.name}</h1>\r\n                        <button className=\"profile__info-edit-button form-button\"\r\n                            type=\"button\" onClick={props.onEditProfile}></button>\r\n                        <p className=\"profile__info-subtitle\">{currentUser.about}</p>\r\n                    </div>\r\n                </div>\r\n                <button className=\"profile__add-button form-button\" type=\"button\" onClick={props.onAddPlace}></button>\r\n            </section>\r\n            <section className=\"gallery\">\r\n                <ul className=\"gallery__items\">\r\n                    {\r\n                        props.cards.map((card) =>\r\n                            <\r\n                                Card key={card._id}\r\n                                card={card}\r\n                                onCardClick={props.onCardClick}\r\n                                onCardLike={props.onCardLike}\r\n                                onCardDelete={props.onCardDelete}\r\n                            />\r\n                        )\r\n                    }\r\n                </ul>\r\n            </section>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n    const year = new Date().getFullYear();\r\n    return(\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">© {year} Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","function PopupWithForm(props) {\r\n    return (\r\n        <div className={`popup popup-${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n            <div className=\"popup__container\">\r\n                <button type=\"button\" aria-label=\"Закрыть попап\"\r\n                    className=\"popup__close\" onClick={props.onClose}></button>\r\n                <h2 className=\"popup__title\">{props.title}</h2>\r\n                <form className=\"popup__form\" name={`${props.name}Form`} noValidate onSubmit={props.onSubmit}>\r\n                    {props.children}\r\n                    <button type=\"submit\" className=\"popup__submit\">{props.buttonName}</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState();\r\n    const [description, setDescription] = React.useState();\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description\r\n        });\r\n    }\r\n\r\n    /* установка значений в форму по умолчанию */\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name='edit'\r\n            title='Редактировать профиль'\r\n            buttonName='Сохранить'\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            children={\r\n                <>\r\n                    <input\r\n                        className=\"popup__input popup__input_userName\"\r\n                        id=\"userName\"\r\n                        type=\"text\"\r\n                        placeholder=\"Имя\"\r\n                        name=\"userName\"\r\n                        minLength=\"2\"\r\n                        maxLength=\"40\"\r\n                        required\r\n                        value={name || ''}\r\n                        onChange={handleNameChange} />\r\n                    <span className=\"popup__form-error\" id=\"userName-error\"></span>\r\n                    <input\r\n                        className=\"popup__input popup__input_userDescription\"\r\n                        id=\"userDescription\"\r\n                        type=\"text\"\r\n                        placeholder=\"О себе\"\r\n                        name=\"userDescription\"\r\n                        minLength=\"2\"\r\n                        maxLength=\"200\"\r\n                        required\r\n                        value={description || ''}\r\n                        onChange={handleDescriptionChange}\r\n                    />\r\n                    <span className=\"popup__form-error\"\r\n                        id=\"userDescription-error\"></span>\r\n                </>\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const urlRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateAvatar({\r\n            avatar: urlRef.current.value\r\n        });\r\n    }\r\n    return (\r\n        <PopupWithForm\r\n            name='edit-avatar'\r\n            title='Обновить аватар'\r\n            buttonName='Сохранить'\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            children={\r\n                <>\r\n                    <input\r\n                        className=\"popup__input popup__input_avatarUrl\"\r\n                        id=\"avatarUrl\"\r\n                        type=\"url\"\r\n                        placeholder=\"Ссылка на аватар\"\r\n                        name=\"url\"\r\n                        required\r\n                        ref={urlRef} />\r\n                    <span className=\"popup__form-error\"\r\n                        id=\"avatarUrl-error\"></span>\r\n                </>\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n    const placeNameRef = React.useRef();\r\n    const placeUrlRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onAddPlace({\r\n            link: placeUrlRef.current.value,\r\n            name: placeNameRef.current.value\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name='add'\r\n            title='Новое место'\r\n            buttonName='Сохранить'\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            children={\r\n                <>\r\n                    <input\r\n                        className=\"popup__input popup__input_placeName\"\r\n                        id=\"placeName\"\r\n                        type=\"text\"\r\n                        placeholder=\"Название\"\r\n                        name=\"name\"\r\n                        minLength=\"1\"\r\n                        maxLength=\"30\"\r\n                        required\r\n                        ref={placeNameRef} />\r\n                    <span className=\"popup__form-error\" id=\"placeName-error\"></span>\r\n                    <input\r\n                        className=\"popup__input popup__input_placeImageUrl\"\r\n                        id=\"placeImageUrl\"\r\n                        type=\"url\"\r\n                        placeholder=\"Ссылка на картинку\"\r\n                        name=\"link\"\r\n                        required\r\n                        ref={placeUrlRef} />\r\n                    <span className=\"popup__form-error\"\r\n                        id=\"placeImageUrl-error\"></span>\r\n                </>\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction ImagePopup({ onClose, card, isOpen }) {\r\n    return (\r\n        <div className={`popup popup-image ${isOpen && 'popup_opened'}`}>\r\n            <div className=\"popup__image-container\">\r\n                <div className=\"popup__content\">\r\n                    <img src={isOpen ? card.link : ''} alt={isOpen ? card.name : '' } className=\"popup__image\" />\r\n                    <p className=\"popup__place-name\">{isOpen ? card.name : ''}</p>\r\n                </div>\r\n                <button type=\"button\" aria-label=\"Закрыть попап\"\r\n                    className=\"popup__close popup__close_image\" onClick={onClose}></button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n    constructor(config) {\r\n        this._url = config.baseUrl;\r\n        this._headers = config.headers;\r\n    }\r\n\r\n    _handleResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        } else return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        })\r\n            .then(this._handleResponse);\r\n    }\r\n\r\n    addCard(data) {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(this._handleResponse);\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._url}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n            .then(this._handleResponse);\r\n    }\r\n\r\n    changeAvatar(data) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(this._handleResponse);\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        })\r\n            .then(this._handleResponse);\r\n    }\r\n\r\n    editUserInfo(data) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(this._handleResponse);\r\n    }\r\n\r\n    likeCard(id) {\r\n        return fetch(`${this._url}/cards/likes/${id}`, {\r\n            method: 'PUT',\r\n            headers: this._headers\r\n        })\r\n            .then(this._handleResponse);\r\n    }\r\n\r\n    disLikeCard(id) {\r\n        return fetch(`${this._url}/cards/likes/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n            .then(this._handleResponse);\r\n    }\r\n\r\n    changeLikeCardStatus(cardId, status) {\r\n        if (status) {\r\n            return this.disLikeCard(cardId);\r\n        } else {\r\n            return this.likeCard(cardId);\r\n        }\r\n    }\r\n}\r\n\r\nconst api = new Api(\r\n    {\r\n        baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\r\n        headers: {\r\n            authorization: '075722c7-326f-4e9c-9498-630fe730cec9',\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n);\r\n\r\nexport default api;","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n    const [selectedCard, setSelectedCard] = React.useState(null);\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [cards, setCards] = React.useState([]);   \n\n    React.useEffect(() => {\n        Promise.all([\n            api.getUserInfo(),\n            api.getInitialCards()\n        ])\n            .then((responses) => {\n                const [userInfo, initialCards] = responses;\n                setCurrentUser(userInfo);\n                setCards(initialCards);\n            })\n            .catch((err) => console.log(err));\n    }, []);\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n        api.changeLikeCardStatus(card._id, isLiked)\n            .then((newCard) => {\n                const newCards = cards.map(c => c._id === card._id ? newCard : c);\n                setCards(newCards);\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function handleCardDelete(card_id) {\n        api.deleteCard(card_id)\n            .then(() => {\n                const newCards = cards.filter(i => i._id !== card_id);\n                setCards(newCards);\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function handleCardClick(card) {\n        setIsImagePopupOpen(true);\n        setSelectedCard(card);\n    }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsImagePopupOpen(false);\n        setSelectedCard(null);\n    }\n\n    function handleUpdateUser(userInfo) {\n        api.editUserInfo(userInfo)\n            .then((newUserInfo) => setCurrentUser(newUserInfo))\n            .catch((err) => console.log(err));\n\n        closeAllPopups();\n    }\n\n    function handleUpdateAvatar(userAvatar) {\n        api.changeAvatar(userAvatar)\n            .then((newUserInfo) => setCurrentUser(newUserInfo))\n            .catch((err) => console.log(err));\n\n        closeAllPopups();\n    }\n\n    function handleAddPlaceSubmit(cardInfo) {\n        api.addCard(cardInfo)\n            .then((newCard) => setCards([newCard, ...cards]))\n            .catch((err) => console.log(err));\n\n        closeAllPopups();\n    }\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <Header />\n            <Main\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                onCardClick={handleCardClick}\n                cards={cards}\n                onCardLike={handleCardLike}\n                onCardDelete={handleCardDelete}\n            />\n            <Footer />\n            <EditProfilePopup\n                isOpen={isEditProfilePopupOpen}\n                onClose={closeAllPopups}\n                onUpdateUser={handleUpdateUser} />\n            <EditAvatarPopup\n                isOpen={isEditAvatarPopupOpen}\n                onClose={closeAllPopups}\n                onUpdateAvatar={handleUpdateAvatar} />\n            <AddPlacePopup\n                isOpen={isAddPlacePopupOpen}\n                onClose={closeAllPopups}\n                onAddPlace={handleAddPlaceSubmit} />\n            <ImagePopup\n                onClose={closeAllPopups}\n                card={selectedCard}\n                isOpen={isImagePopupOpen}\n            />\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from '../src/components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.querySelector('.root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}